local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g=table.insert,table.remove;local unpack=table.unpack or unpack;local h,i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4,a5,a6,a7,a8;local a9=_VERSION=='Lua 5.1'local aa=type(jit)=='table'local ab=a9 and not aa and 3 or 2;local ac={'first','second','third'}m=function(...)return...end;p=function()end;h=function(ad,ae)for af,ag in pairs(ae)do ad[af]=ag end;return ad end;i=function(ad)local ae={}for ah,ag in ipairs(ad)do f(ae,ag)end;return ae end;j=function(ad,ae)local ai=i(ad)for ah,ag in ipairs(ae)do f(ai,ag)end;return ai end;k=a9 and m or function(aj)return l(o(aj),aj)end;l=function(ak,aj)if ak<1 then return aj end;return function(...)local al={...}if#al<ak then return l(ak-#al,Z(aj,al))else return aj(...)end end end;n=function(ad)local ae={}for af,ag in pairs(ad)do ae[ag]=af end;return ae end;o=function(aj)return d(aj,'u').nparams end;q=function(aj,al)return function(...)return aj(unpack(j(al,{...})))end end;r=function(...)local am={...}local an=g(am,1)return function(...)local ao=an(...)for ah,aj in ipairs(am)do ao=aj(ao)end;return ao end end;s=function(...)local am={...}return l(2,function(ap,ao)for ah,aj in ipairs(am)do ap=aj(ap,ao)end;return ap end)end;t=function(ad)local ae={}for aq=#ad,1,-1 do f(ae,ad[aq])end;return ae end;u=l(2,not _DEBUG and p or function(ar,...)for aq,as in ipairs({...})do local at=c(as,'^%[(%a+)%]$')local au=c(as,'^%.%.%.(%a+)$')local av,ao=e(ab,aq)local aw=type(ao)local ax,ay;if at then ax=a('%s: %s arg must be list',ar,ac[aq])ay=ax..a(', got %s',aw)assert(aw=='table',ay)if b(at)>1 then ax=ax..a(' of %ss',at)for ah,ag in ipairs(ao)do aw=type(ag)ay=ax..a(', got %s element',aw)assert(aw==at,ay)end end elseif au and b(au)>1 then if not a9 then ax=a('%s: vararg must be all %ss',ar,au)local az=-1;av,ao=e(ab,az)while ao do aw=type(ao)ay=ax..a(', got a %s',aw)assert(aw==au,ay)az=az-1;av,ao=e(ab,az)end end elseif b(as)>1 then ay=a('%s: %s arg must be %s, got %s',ar,ac[aq],as,aw)assert(aw==as,ay)end end end)v=l(2,function(ad,ae)u('add','number','number')return ad+ae end)w=l(2,function(aA,aB)u('all','function','[a]')for ah,ag in ipairs(aB)do if not aA(ag)then return false end end;return true end)x=l(2,function(aA,aB)u('any','function','[a]')for ah,ag in ipairs(aB)do if aA(ag)then return true end end;return false end)y=function(...)u('compose','...function')return r(unpack(t({...})))end;z=function(...)u('composeR','...function')return s(unpack(t({...})))end;A=l(2,function(ad,ae)u('concat','[a]','[a]')return j(ad,ae)end)B=function(ao)return function()return ao end end;C=function(aj)u('curry','function')return k(aj)end;D=l(2,function(ak,aj)u('curryN','number','function')return l(ak,aj)end)E=l(2,function(aj,aB)u('each','function','[a]')for ah,ag in ipairs(aB)do aj(ag)end;return aB end)F=l(2,function(ad,ae)return ad==ae end)G=l(2,function(aC,aD)u('evolve','table','table')local aE={}for aF,ao in pairs(aD)do local aG=aC[aF]aE[aF]=type(aG)=='function'and aG(ao)or type(aG)=='table'and G(aG,ao)or ao end;return aE end)H=function(aj)u('flip','function')return l(2,function(ad,ae,...)return aj(ae,ad,...)end)end;I=l(2,function(aA,aB)u('groupWith','function','[a]')local aE={{}}for aq,ag in ipairs(aB)do f(aE[#aE],ag)if aq<#aB and not aA(ag,aB[aq+1])then f(aE,{})end end;return aE end)J=l(2,function(ad,ae)u('gt','number','number')return ad>ae end)K=function(aB)u('head','[a]')return aB[1]end;L=m;M=l(3,function(aA,aH,aI)u('ifElse','function','function','function')return function(...)return aA(...)and aH(...)or aI(...)end end)N=function(ad)u('init','[a]')local ae=i(ad)g(ae)return ae end;O=l(1,function(aJ)u('invert','table')return n(aJ)end)P=l(2,function(aK,ad)u('is','string')return type(ad)==aK end)Q=function(aB)u('last','[a]')return aB[#aB]end;R=l(2,function(ad,ae)u('lt','number','number')return ad<ae end)S=l(2,function(aj,ad)u('map','function','[a]')local ae={}for ah,ag in ipairs(ad)do f(ae,aj(ag))end;return ae end)T=l(2,function(ad,ae)u('max','number','number')return ad>ae and ad or ae end)U=l(2,function(ad,ae)u('merge','table','table')local aE={}h(aE,ad)h(aE,ae)return aE end)V=l(2,function(ad,ae)u('min','number','number')return ad<ae and ad or ae end)W=l(2,function(ad,ae)u('multiply','number','number')return ad*ae end)X=function(aA)u('non','function')return function(...)return not aA(...)end end;Y=l(2,function(aL,aJ)u('omit','[string]','table')local aE={}aL=n(aL)for aF,ao in pairs(aJ)do if not aL[aF]then aE[aF]=ao end end;return aE end)Z=l(2,function(aj,al)u('partial','function','[a]')return q(aj,al)end)_=l(2,function(aL,ad)u('pick','[string]','table')local ae={}for ah,aF in ipairs(aL)do ae[aF]=ad[aF]end;return ae end)a0=function(...)u('pipe','...function')return r(...)end;a1=function(...)u('pipeR','...function')return s(...)end;a2=l(2,function(aF,aB)u('pluck','string','[table]')local aE={}for aq,aM in ipairs(aB)do aE[aq]=aM[aF]end;return aE end)a3=l(2,function(aF,table)u('prop','string','table')return table[aF]end)a4=l(3,function(aj,ap,aB)u('reduce','function','a','[a]')for ah,ao in ipairs(aB)do ap=aj(ap,ao)end;return ap end)a5=function(ad)u('reverse','[a]')return t(ad)end;a6=function(ad)u('tail','[a]')local ae=i(ad)g(ae,1)return ae end;a7=function(aj)u('tap','function')return function(...)aj(...)return...end end;a8=l(2,function(aA,aH)u('when','function','function')return function(...)return aA(...)and aH(...)or...end end)local aN={add=v,all=w,any=x,compose=y,composeR=z,concat=A,constant=B,curry=C,curryN=D,each=E,equals=F,evolve=G,flip=H,groupWith=I,gt=J,head=K,identity=L,ifElse=M,init=N,invert=O,is=P,last=Q,lt=R,map=S,max=T,merge=U,min=V,multiply=W,omit=Y,non=X,partial=Z,pick=_,pipe=a0,pipeR=a1,pluck=a2,prop=a3,reduce=a4,reverse=a5,tail=a6,tap=a7,when=a8}aN.import=function(aO)aO=aO or _G;return h(aO,aN)end;return aN
