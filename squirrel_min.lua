local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g,h=table.insert,table.remove,table.unpack;local i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1;p={'first','second','third'}i=function(a2,a3)for a4,a5 in pairs(a3)do a2[a4]=a5 end;return a2 end;j=function(a2)local a3={}for a6,a5 in ipairs(a2)do f(a3,a5)end;return a3 end;k=function(a2,a3)local a7=j(a2)for a6,a5 in ipairs(a3)do f(a7,a5)end;return a7 end;l=function(a8)return m(n(a8),a8)end;m=function(a9,a8)if a9<1 then return a8 end;return function(...)local aa={...}if#aa<a9 then return m(a9-#aa,T(a8,aa))else return a8(...)end end end;n=function(a8)return d(a8,'u').nparams end;o=function()end;q=function(a8,aa)return function(...)return a8(h(k(aa,{...})))end end;r=function(...)local ab={...}local ac=g(ab,1)return function(...)local ad=ac(...)for a6,a8 in ipairs(ab)do ad=a8(ad)end;return ad end end;s=function(...)local ab={...}return m(2,function(ae,ad)for a6,a8 in ipairs(ab)do ae=a8(ae,ad)end;return ae end)end;t=function(a2)local a3={}for af=#a2,1,-1 do f(a3,a2[af])end;return a3 end;u=m(2,not _DEBUG and o or function(ag,...)for af,ah in ipairs({...})do local ai=c(ah,'^%[(%a+)%]$')local aj=c(ah,'^%.%.%.(%a+)$')local ak,ad=e(2,af)local al=type(ad)local am,an;if ai then am=a('%s: %s arg must be list',ag,p[af])an=am..a(', got %s',al)assert(al=='table',an)if b(ai)>1 then am=am..a(' of %ss',ai)for a6,a5 in ipairs(ad)do al=type(a5)an=am..a(', got %s element',al)assert(al==ai,an)end end elseif aj and b(aj)>1 then am=a('%s: vararg must be all %ss',ag,aj)local ao=-1;ak,ad=e(2,ao)while ad do al=type(ad)an=am..a(', got a %s',al)assert(al==aj,an)ao=ao-1;ak,ad=e(2,ao)end elseif b(ah)>1 then an=a('%s: %s arg must be %s, got %s',ag,p[af],ah,al)assert(al==ah,an)end end end)v=m(2,function(a2,a3)u('add','number','number')return a2+a3 end)w=m(2,function(ap,aq)u('all','function','[a]')for a6,a5 in ipairs(aq)do if not ap(a5)then return false end end;return true end)x=m(2,function(ap,aq)u('any','function','[a]')for a6,a5 in ipairs(aq)do if ap(a5)then return true end end;return false end)y=function(...)u('compose','...function')return r(h(t({...})))end;z=function(...)u('composeR','...function')return s(h(t({...})))end;A=m(2,function(a2,a3)u('concat','[a]','[a]')return k(a2,a3)end)B=function(a8)u('curry','function')return l(a8)end;C=m(2,function(a9,a8)u('curryN','number','function')return m(a9,a8)end)E=m(2,function(a2,a3)return a2==a3 end)F=m(2,function(ar,as)u('evolve','table','table')local at={}for au,ad in pairs(as)do local av=ar[au]at[au]=type(av)=='function'and av(ad)or type(av)=='table'and F(av,ad)or ad end;return at end)D=function(a8)u('flip','function')a8=l(a8)return m(2,function(a2,a3,...)return a8(a3,a2,...)end)end;G=m(2,function(a2,a3)u('gt','number','number')return a2>a3 end)H=function(aq)u('head','[a]')return aq[1]end;I=function(...)return...end;J=m(3,function(ap,aw,ax)u('ifElse','function','function','function')return function(...)return ap(...)and aw(...)or ax(...)end end)K=function(a2)u('init','[a]')local a3=j(a2)g(a3)return a3 end;L=m(2,function(ay,a2)u('is','string')return type(a2)==ay end)M=function(aq)u('last','[a]')return aq[#aq]end;N=m(2,function(a2,a3)u('lt','number','number')return a2<a3 end)O=m(2,function(a8,a2)u('map','function','[a]')local a3={}for a6,a5 in ipairs(a2)do f(a3,a8(a5))end;return a3 end)P=m(2,function(a2,a3)u('max','number','number')return a2>a3 and a2 or a3 end)Q=m(2,function(a2,a3)u('min','number','number')return a2<a3 and a2 or a3 end)R=m(2,function(a2,a3)u('multiply','number','number')return a2*a3 end)S=function(ap)u('non','function')return function(...)return not ap(...)end end;T=m(2,function(a8,aa)u('partial','function','[a]')return q(a8,aa)end)U=m(2,function(az,a2)u('pick','[string]','table')local a3={}for a6,au in ipairs(az)do a3[au]=a2[au]end;return a3 end)V=function(...)u('pipe','...function')return r(...)end;W=function(...)u('pipeR','...function')return s(...)end;X=m(2,function(au,table)u('prop','string','table')return table[au]end)Y=m(3,function(a8,ae,aq)u('reduce','function','a','[a]')for a6,ad in ipairs(aq)do ae=a8(ae,ad)end;return ae end)Z=function(a2)u('reverse','[a]')return t(a2)end;_=function(a2)u('tail','[a]')local a3=j(a2)g(a3,1)return a3 end;a0=function(a8)u('tap','function')return function(...)a8(...)return...end end;a1=m(2,function(ap,aw)u('when','function','function')return function(...)return ap(...)and aw(...)or...end end)local aA={add=v,all=w,any=x,compose=y,composeR=z,concat=A,curry=B,curryN=C,equals=E,evolve=F,flip=D,gt=G,head=H,identity=I,ifElse=J,init=K,is=L,last=M,lt=N,map=O,max=P,min=Q,multiply=R,non=S,partial=T,pick=U,pipe=V,pipeR=W,prop=X,reduce=Y,reverse=Z,tail=_,tap=a0,when=a1}aA.import=function(aB)aB=aB or _G;return i(aB,aA)end;return aA
