local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g,h=table.insert,table.remove,table.unpack;local i,j,k,l,m,n,o,p,q,r,s,t;local u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;p={'first','second','third'}i=function(_,a0)for a1,a2 in pairs(a0)do _[a1]=a2 end;return _ end;j=function(_)local a0={}for a3,a2 in ipairs(_)do f(a0,a2)end;return a0 end;k=function(_,a0)local a4=j(_)for a3,a2 in ipairs(a0)do f(a4,a2)end;return a4 end;l=function(a5)return m(n(a5),a5)end;m=function(a6,a5)if a6<1 then return a5 end;return function(...)local a7={...}if#a7<a6 then return m(a6-#a7,R(a5,a7))else return a5(...)end end end;n=function(a5)return d(a5,'u').nparams end;o=function()end;q=function(a5,a7)return function(...)return a5(h(k(a7,{...})))end end;r=function(...)local a8={...}local a9=g(a8,1)return function(...)local aa=a9(...)for a3,a5 in ipairs(a8)do aa=a5(aa)end;return aa end end;s=function(_)local a0={}for ab=#_,1,-1 do f(a0,_[ab])end;return a0 end;t=m(2,not _DEBUG and o or function(ac,...)for ab,ad in ipairs({...})do local ae=c(ad,'^%[(%a+)%]$')local af=c(ad,'^%.%.%.(%a+)$')local ag,aa=e(2,ab)local ah=type(aa)local ai,aj;if ae then ai=a('%s: %s arg must be list',ac,p[ab])aj=ai..a(', got %s',ah)assert(ah=='table',aj)if b(ae)>1 then ai=ai..a(' of %ss',ae)for a3,a2 in ipairs(aa)do ah=type(a2)aj=ai..a(', got %s element',ah)assert(ah==ae,aj)end end elseif af and b(af)>1 then ai=a('%s: vararg must be all %ss',ac,af)local ak=-1;ag,aa=e(2,ak)while aa do ah=type(aa)aj=ai..a(', got a %s',ah)assert(ah==af,aj)ak=ak-1;ag,aa=e(2,ak)end elseif b(ad)>1 then aj=a('%s: %s arg must be %s, got %s',ac,p[ab],ad,ah)assert(ah==ad,aj)end end end)u=m(2,function(_,a0)t('add','number','number')return _+a0 end)v=m(2,function(al,am)t('all','function','[a]')for a3,a2 in ipairs(am)do if not al(a2)then return false end end;return true end)w=m(2,function(al,am)t('any','function','[a]')for a3,a2 in ipairs(am)do if al(a2)then return true end end;return false end)x=function(...)t('compose','...function')return r(h(s({...})))end;y=m(2,function(_,a0)t('concat','[a]','[a]')return k(_,a0)end)z=function(a5)t('curry','function')return l(a5)end;A=m(2,function(a6,a5)t('curryN','number','function')return m(a6,a5)end)C=m(2,function(_,a0)return _==a0 end)D=m(2,function(an,ao)t('evolve','table','table')local ap={}for aq,aa in pairs(ao)do local ar=an[aq]ap[aq]=type(ar)=='function'and ar(aa)or type(ar)=='table'and D(ar,aa)or aa end;return ap end)B=function(a5)t('flip','function')a5=l(a5)return m(2,function(_,a0,...)return a5(a0,_,...)end)end;E=m(2,function(_,a0)t('gt','number','number')return _>a0 end)F=function(am)t('head','[a]')return am[1]end;G=function(...)return...end;H=m(3,function(al,as,at)t('ifElse','function','function','function')return function(...)return al(...)and as(...)or at(...)end end)I=function(_)t('init','[a]')local a0=j(_)g(a0)return a0 end;J=m(2,function(au,_)t('is','string')return type(_)==au end)K=function(am)t('last','[a]')return am[#am]end;L=m(2,function(_,a0)t('lt','number','number')return _<a0 end)M=m(2,function(a5,_)t('map','function','[a]')local a0={}for a3,a2 in ipairs(_)do f(a0,a5(a2))end;return a0 end)N=m(2,function(_,a0)t('max','number','number')return _>a0 and _ or a0 end)O=m(2,function(_,a0)t('min','number','number')return _<a0 and _ or a0 end)P=m(2,function(_,a0)t('multiply','number','number')return _*a0 end)Q=function(al)t('non','function')return function(...)return not al(...)end end;R=m(2,function(a5,a7)t('partial','function','[a]')return q(a5,a7)end)S=m(2,function(av,_)t('pick','[string]','table')local a0={}for a3,aq in ipairs(av)do a0[aq]=_[aq]end;return a0 end)T=function(...)t('pipe','...function')return r(...)end;U=m(2,function(aq,table)t('prop','string','table')return table[aq]end)V=m(3,function(a5,aw,am)t('reduce','function','a','[a]')for a3,aa in ipairs(am)do aw=a5(aw,aa)end;return aw end)W=function(_)t('reverse','[a]')return s(_)end;X=function(_)t('tail','[a]')local a0=j(_)g(a0,1)return a0 end;Y=function(a5)t('tap','function')return function(...)a5(...)return...end end;Z=m(2,function(al,as)t('when','function','function')return function(...)return al(...)and as(...)or...end end)local ax={add=u,all=v,any=w,compose=x,concat=y,curry=z,curryN=A,equals=C,evolve=D,flip=B,gt=E,head=F,identity=G,ifElse=H,init=I,is=J,last=K,lt=L,map=M,max=N,min=O,multiply=P,non=Q,partial=R,pick=S,pipe=T,prop=U,reduce=V,reverse=W,tail=X,tap=Y,when=Z}ax.import=function(ay)ay=ay or _G;return i(ay,ax)end;return ax
