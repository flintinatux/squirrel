local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g,h=table.insert,table.remove,table.unpack;local i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3;p={'first','second','third'}i=function(a4,a5)for a6,a7 in pairs(a5)do a4[a6]=a7 end;return a4 end;j=function(a4)local a5={}for a8,a7 in ipairs(a4)do f(a5,a7)end;return a5 end;k=function(a4,a5)local a9=j(a4)for a8,a7 in ipairs(a5)do f(a9,a7)end;return a9 end;l=function(aa)return m(n(aa),aa)end;m=function(ab,aa)if ab<1 then return aa end;return function(...)local ac={...}if#ac<ab then return m(ab-#ac,V(aa,ac))else return aa(...)end end end;n=function(aa)return d(aa,'u').nparams end;o=function()end;q=function(aa,ac)return function(...)return aa(h(k(ac,{...})))end end;r=function(...)local ad={...}local ae=g(ad,1)return function(...)local af=ae(...)for a8,aa in ipairs(ad)do af=aa(af)end;return af end end;s=function(...)local ad={...}return m(2,function(ag,af)for a8,aa in ipairs(ad)do ag=aa(ag,af)end;return ag end)end;t=function(a4)local a5={}for ah=#a4,1,-1 do f(a5,a4[ah])end;return a5 end;u=m(2,not _DEBUG and o or function(ai,...)for ah,aj in ipairs({...})do local ak=c(aj,'^%[(%a+)%]$')local al=c(aj,'^%.%.%.(%a+)$')local am,af=e(2,ah)local an=type(af)local ao,ap;if ak then ao=a('%s: %s arg must be list',ai,p[ah])ap=ao..a(', got %s',an)assert(an=='table',ap)if b(ak)>1 then ao=ao..a(' of %ss',ak)for a8,a7 in ipairs(af)do an=type(a7)ap=ao..a(', got %s element',an)assert(an==ak,ap)end end elseif al and b(al)>1 then ao=a('%s: vararg must be all %ss',ai,al)local aq=-1;am,af=e(2,aq)while af do an=type(af)ap=ao..a(', got a %s',an)assert(an==al,ap)aq=aq-1;am,af=e(2,aq)end elseif b(aj)>1 then ap=a('%s: %s arg must be %s, got %s',ai,p[ah],aj,an)assert(an==aj,ap)end end end)v=m(2,function(a4,a5)u('add','number','number')return a4+a5 end)w=m(2,function(ar,as)u('all','function','[a]')for a8,a7 in ipairs(as)do if not ar(a7)then return false end end;return true end)x=m(2,function(ar,as)u('any','function','[a]')for a8,a7 in ipairs(as)do if ar(a7)then return true end end;return false end)y=function(...)u('compose','...function')return r(h(t({...})))end;z=function(...)u('composeR','...function')return s(h(t({...})))end;A=m(2,function(a4,a5)u('concat','[a]','[a]')return k(a4,a5)end)B=function(aa)u('curry','function')return l(aa)end;C=m(2,function(ab,aa)u('curryN','number','function')return m(ab,aa)end)E=m(2,function(aa,as)u('each','function','[a]')for a8,a7 in ipairs(as)do aa(a7)end;return as end)F=m(2,function(a4,a5)return a4==a5 end)G=m(2,function(at,au)u('evolve','table','table')local av={}for aw,af in pairs(au)do local ax=at[aw]av[aw]=type(ax)=='function'and ax(af)or type(ax)=='table'and G(ax,af)or af end;return av end)D=function(aa)u('flip','function')aa=l(aa)return m(2,function(a4,a5,...)return aa(a5,a4,...)end)end;H=m(2,function(ar,as)u('groupWith','function','[a]')local av={{}}for ah,a7 in ipairs(as)do f(av[#av],a7)if ah<#as and not ar(a7,as[ah+1])then f(av,{})end end;return av end)I=m(2,function(a4,a5)u('gt','number','number')return a4>a5 end)J=function(as)u('head','[a]')return as[1]end;K=function(...)return...end;L=m(3,function(ar,ay,az)u('ifElse','function','function','function')return function(...)return ar(...)and ay(...)or az(...)end end)M=function(a4)u('init','[a]')local a5=j(a4)g(a5)return a5 end;N=m(2,function(aA,a4)u('is','string')return type(a4)==aA end)O=function(as)u('last','[a]')return as[#as]end;P=m(2,function(a4,a5)u('lt','number','number')return a4<a5 end)Q=m(2,function(aa,a4)u('map','function','[a]')local a5={}for a8,a7 in ipairs(a4)do f(a5,aa(a7))end;return a5 end)R=m(2,function(a4,a5)u('max','number','number')return a4>a5 and a4 or a5 end)S=m(2,function(a4,a5)u('min','number','number')return a4<a5 and a4 or a5 end)T=m(2,function(a4,a5)u('multiply','number','number')return a4*a5 end)U=function(ar)u('non','function')return function(...)return not ar(...)end end;V=m(2,function(aa,ac)u('partial','function','[a]')return q(aa,ac)end)W=m(2,function(aB,a4)u('pick','[string]','table')local a5={}for a8,aw in ipairs(aB)do a5[aw]=a4[aw]end;return a5 end)X=function(...)u('pipe','...function')return r(...)end;Y=function(...)u('pipeR','...function')return s(...)end;Z=m(2,function(aw,table)u('prop','string','table')return table[aw]end)_=m(3,function(aa,ag,as)u('reduce','function','a','[a]')for a8,af in ipairs(as)do ag=aa(ag,af)end;return ag end)a0=function(a4)u('reverse','[a]')return t(a4)end;a1=function(a4)u('tail','[a]')local a5=j(a4)g(a5,1)return a5 end;a2=function(aa)u('tap','function')return function(...)aa(...)return...end end;a3=m(2,function(ar,ay)u('when','function','function')return function(...)return ar(...)and ay(...)or...end end)local aC={add=v,all=w,any=x,compose=y,composeR=z,concat=A,curry=B,curryN=C,each=E,equals=F,evolve=G,flip=D,groupWith=H,gt=I,head=J,identity=K,ifElse=L,init=M,is=N,last=O,lt=P,map=Q,max=R,min=S,multiply=T,non=U,partial=V,pick=W,pipe=X,pipeR=Y,prop=Z,reduce=_,reverse=a0,tail=a1,tap=a2,when=a3}aC.import=function(aD)aD=aD or _G;return i(aD,aC)end;return aC
