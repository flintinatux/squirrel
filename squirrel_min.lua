local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g=table.insert,table.remove;local unpack=table.unpack or unpack;local h,i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,aa,ab;local ac=_VERSION=='Lua 5.1'local ad=type(jit)=='table'local ae=ac and not ad and 3 or 2;local af={'first','second','third'}m=function(...)return...end;p=function()end;h=function(ag,ah)for ai,aj in pairs(ah)do ag[ai]=aj end;return ag end;i=function(ag)local ah={}for ak,aj in ipairs(ag)do f(ah,aj)end;return ah end;j=function(ag,ah)local al=i(ag)for ak,aj in ipairs(ah)do f(al,aj)end;return al end;k=ac and m or function(am)return l(o(am),am)end;l=function(an,am)if an<1 then return am end;return function(...)local ao={...}if#ao<an then return l(an-#ao,a1(am,ao))else return am(...)end end end;n=function(ag)local ah={}for ai,aj in pairs(ag)do ah[aj]=ai end;return ah end;o=function(am)return d(am,'u').nparams end;q=function(am,ao)return function(...)return am(unpack(j(ao,{...})))end end;r=function(...)local ap={...}local aq=g(ap,1)return function(...)local ar=aq(...)for ak,am in ipairs(ap)do ar=am(ar)end;return ar end end;s=function(...)local ap={...}return l(2,function(as,ar)for ak,am in ipairs(ap)do as=am(as,ar)end;return as end)end;t=function(ag)local ah={}for at=#ag,1,-1 do f(ah,ag[at])end;return ah end;u=l(2,not _DEBUG and p or function(au,...)for at,av in ipairs({...})do local aw=c(av,'^%[(%a+)%]$')local ax=c(av,'^%.%.%.(%a+)$')local ay,ar=e(ae,at)local az=type(ar)local aA,aB;if aw then aA=a('%s: %s arg must be list',au,af[at])aB=aA..a(', got %s',az)assert(az=='table',aB)if b(aw)>1 then aA=aA..a(' of %ss',aw)for ak,aj in ipairs(ar)do az=type(aj)aB=aA..a(', got %s element',az)assert(az==aw,aB)end end elseif ax and b(ax)>1 then if not ac then aA=a('%s: vararg must be all %ss',au,ax)local aC=-1;ay,ar=e(ae,aC)while ar do az=type(ar)aB=aA..a(', got a %s',az)assert(az==ax,aB)aC=aC-1;ay,ar=e(ae,aC)end end elseif b(av)>1 then aB=a('%s: %s arg must be %s, got %s',au,af[at],av,az)assert(az==av,aB)end end end)v=l(2,function(ag,ah)u('add','number','number')return ag+ah end)w=l(2,function(aD,aE)u('all','function','[a]')for ak,aj in ipairs(aE)do if not aD(aj)then return false end end;return true end)x=l(2,function(aD,aE)u('any','function','[a]')for ak,aj in ipairs(aE)do if aD(aj)then return true end end;return false end)y=function(...)u('compose','...function')return r(unpack(t({...})))end;z=function(...)u('composeR','...function')return s(unpack(t({...})))end;A=l(2,function(ag,ah)u('concat','[a]','[a]')return j(ag,ah)end)B=l(1,function(ar)return function()return ar end end)C=l(1,function(am)u('curry','function')return k(am)end)D=l(2,function(an,am)u('curryN','number','function')return l(an,am)end)E=l(2,function(am,aE)u('each','function','[a]')for ak,aj in ipairs(aE)do am(aj)end;return aE end)F=l(2,function(ag,ah)return ag==ah end)G=l(2,function(aF,aG)u('evolve','table','table')local aH={}for aI,ar in pairs(aG)do local aJ=aF[aI]aH[aI]=type(aJ)=='function'and aJ(ar)or type(aJ)=='table'and G(aJ,ar)or ar end;return aH end)H=l(2,function(aD,aE)u('filter','function','[a]')local aH={}for ak,ar in ipairs(aE)do if aD(ar)then f(aH,ar)end end;return aH end)I=l(1,function(am)u('flip','function')return l(2,function(ag,ah,...)return am(ah,ag,...)end)end)J=l(2,function(aD,aE)u('groupWith','function','[a]')local aH={{}}for at,aj in ipairs(aE)do f(aH[#aH],aj)if at<#aE and not aD(aj,aE[at+1])then f(aH,{})end end;return aH end)K=l(2,function(ag,ah)u('gt','number','number')return ag>ah end)L=l(1,function(aE)u('head','[a]')return aE[1]end)M=l(1,m)N=l(3,function(aD,aK,aL)u('ifElse','function','function','function')return function(...)return aD(...)and aK(...)or aL(...)end end)O=l(1,function(ag)u('init','[a]')local ah=i(ag)g(ah)return ah end)P=l(1,function(aM)u('invert','table')return n(aM)end)Q=l(2,function(aN,ag)u('is','string')return type(ag)==aN end)R=l(1,function(aG)u('keys','table')local aH={}for ai,ak in pairs(aG)do f(aH,ai)end;return aH end)S=l(1,function(aE)u('last','[a]')return aE[#aE]end)T=l(2,function(ag,ah)u('lt','number','number')return ag<ah end)U=l(2,function(am,ag)u('map','function','[a]')local ah={}for ak,aj in ipairs(ag)do f(ah,am(aj))end;return ah end)V=l(2,function(ag,ah)u('max','number','number')return ag>ah and ag or ah end)W=l(2,function(ag,ah)u('merge','table','table')local aH={}h(aH,ag)h(aH,ah)return aH end)X=l(2,function(ag,ah)u('min','number','number')return ag<ah and ag or ah end)Y=l(2,function(ag,ah)u('multiply','number','number')return ag*ah end)Z=l(1,function(aD)u('non','function')return function(...)return not aD(...)end end)_=p;a0=l(2,function(aO,aM)u('omit','[string]','table')local aH={}aO=n(aO)for aI,ar in pairs(aM)do if not aO[aI]then aH[aI]=ar end end;return aH end)a1=l(2,function(am,ao)u('partial','function','[a]')return q(am,ao)end)a2=l(2,function(aO,ag)u('pick','[string]','table')local ah={}for ak,aI in ipairs(aO)do ah[aI]=ag[aI]end;return ah end)a3=function(...)u('pipe','...function')return r(...)end;a4=function(...)u('pipeR','...function')return s(...)end;a5=l(2,function(aI,aE)u('pluck','string','[table]')local aH={}for at,aP in ipairs(aE)do aH[at]=aP[aI]end;return aH end)a6=l(2,function(aI,table)u('prop','string','table')return table[aI]end)a7=l(3,function(am,as,aE)u('reduce','function','a','[a]')for ak,ar in ipairs(aE)do as=am(as,ar)end;return as end)a8=l(1,function(ag)u('reverse','[a]')return t(ag)end)a9=l(1,function(ag)u('tail','[a]')local ah=i(ag)g(ah,1)return ah end)aa=l(1,function(am)u('tap','function')return function(...)am(...)return...end end)ab=l(2,function(aD,aK)u('when','function','function')return function(...)return aD(...)and aK(...)or...end end)local aQ={add=v,all=w,any=x,compose=y,composeR=z,concat=A,constant=B,curry=C,curryN=D,each=E,equals=F,evolve=G,filter=H,flip=I,groupWith=J,gt=K,head=L,identity=M,ifElse=N,init=O,invert=P,is=Q,keys=R,last=S,lt=T,map=U,max=V,merge=W,min=X,multiply=Y,omit=a0,non=Z,noop=_,partial=a1,pick=a2,pipe=a3,pipeR=a4,pluck=a5,prop=a6,reduce=a7,reverse=a8,tail=a9,tap=aa,when=ab}aQ.import=function(aR)aR=aR or _G;return h(aR,aQ)end;return aQ
