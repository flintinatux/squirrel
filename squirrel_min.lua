local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g,h=table.insert,table.remove,table.unpack;local i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2;p={'first','second','third'}i=function(a3,a4)for a5,a6 in pairs(a4)do a3[a5]=a6 end;return a3 end;j=function(a3)local a4={}for a7,a6 in ipairs(a3)do f(a4,a6)end;return a4 end;k=function(a3,a4)local a8=j(a3)for a7,a6 in ipairs(a4)do f(a8,a6)end;return a8 end;l=function(a9)return m(n(a9),a9)end;m=function(aa,a9)if aa<1 then return a9 end;return function(...)local ab={...}if#ab<aa then return m(aa-#ab,U(a9,ab))else return a9(...)end end end;n=function(a9)return d(a9,'u').nparams end;o=function()end;q=function(a9,ab)return function(...)return a9(h(k(ab,{...})))end end;r=function(...)local ac={...}local ad=g(ac,1)return function(...)local ae=ad(...)for a7,a9 in ipairs(ac)do ae=a9(ae)end;return ae end end;s=function(...)local ac={...}return m(2,function(af,ae)for a7,a9 in ipairs(ac)do af=a9(af,ae)end;return af end)end;t=function(a3)local a4={}for ag=#a3,1,-1 do f(a4,a3[ag])end;return a4 end;u=m(2,not _DEBUG and o or function(ah,...)for ag,ai in ipairs({...})do local aj=c(ai,'^%[(%a+)%]$')local ak=c(ai,'^%.%.%.(%a+)$')local al,ae=e(2,ag)local am=type(ae)local an,ao;if aj then an=a('%s: %s arg must be list',ah,p[ag])ao=an..a(', got %s',am)assert(am=='table',ao)if b(aj)>1 then an=an..a(' of %ss',aj)for a7,a6 in ipairs(ae)do am=type(a6)ao=an..a(', got %s element',am)assert(am==aj,ao)end end elseif ak and b(ak)>1 then an=a('%s: vararg must be all %ss',ah,ak)local ap=-1;al,ae=e(2,ap)while ae do am=type(ae)ao=an..a(', got a %s',am)assert(am==ak,ao)ap=ap-1;al,ae=e(2,ap)end elseif b(ai)>1 then ao=a('%s: %s arg must be %s, got %s',ah,p[ag],ai,am)assert(am==ai,ao)end end end)v=m(2,function(a3,a4)u('add','number','number')return a3+a4 end)w=m(2,function(aq,ar)u('all','function','[a]')for a7,a6 in ipairs(ar)do if not aq(a6)then return false end end;return true end)x=m(2,function(aq,ar)u('any','function','[a]')for a7,a6 in ipairs(ar)do if aq(a6)then return true end end;return false end)y=function(...)u('compose','...function')return r(h(t({...})))end;z=function(...)u('composeR','...function')return s(h(t({...})))end;A=m(2,function(a3,a4)u('concat','[a]','[a]')return k(a3,a4)end)B=function(a9)u('curry','function')return l(a9)end;C=m(2,function(aa,a9)u('curryN','number','function')return m(aa,a9)end)E=m(2,function(a3,a4)return a3==a4 end)F=m(2,function(as,at)u('evolve','table','table')local au={}for av,ae in pairs(at)do local aw=as[av]au[av]=type(aw)=='function'and aw(ae)or type(aw)=='table'and F(aw,ae)or ae end;return au end)D=function(a9)u('flip','function')a9=l(a9)return m(2,function(a3,a4,...)return a9(a4,a3,...)end)end;G=m(2,function(aq,ar)u('groupWith','function','[a]')local au={{}}for ag,a6 in ipairs(ar)do f(au[#au],a6)if ag<#ar and not aq(a6,ar[ag+1])then f(au,{})end end;return au end)H=m(2,function(a3,a4)u('gt','number','number')return a3>a4 end)I=function(ar)u('head','[a]')return ar[1]end;J=function(...)return...end;K=m(3,function(aq,ax,ay)u('ifElse','function','function','function')return function(...)return aq(...)and ax(...)or ay(...)end end)L=function(a3)u('init','[a]')local a4=j(a3)g(a4)return a4 end;M=m(2,function(az,a3)u('is','string')return type(a3)==az end)N=function(ar)u('last','[a]')return ar[#ar]end;O=m(2,function(a3,a4)u('lt','number','number')return a3<a4 end)P=m(2,function(a9,a3)u('map','function','[a]')local a4={}for a7,a6 in ipairs(a3)do f(a4,a9(a6))end;return a4 end)Q=m(2,function(a3,a4)u('max','number','number')return a3>a4 and a3 or a4 end)R=m(2,function(a3,a4)u('min','number','number')return a3<a4 and a3 or a4 end)S=m(2,function(a3,a4)u('multiply','number','number')return a3*a4 end)T=function(aq)u('non','function')return function(...)return not aq(...)end end;U=m(2,function(a9,ab)u('partial','function','[a]')return q(a9,ab)end)V=m(2,function(aA,a3)u('pick','[string]','table')local a4={}for a7,av in ipairs(aA)do a4[av]=a3[av]end;return a4 end)W=function(...)u('pipe','...function')return r(...)end;X=function(...)u('pipeR','...function')return s(...)end;Y=m(2,function(av,table)u('prop','string','table')return table[av]end)Z=m(3,function(a9,af,ar)u('reduce','function','a','[a]')for a7,ae in ipairs(ar)do af=a9(af,ae)end;return af end)_=function(a3)u('reverse','[a]')return t(a3)end;a0=function(a3)u('tail','[a]')local a4=j(a3)g(a4,1)return a4 end;a1=function(a9)u('tap','function')return function(...)a9(...)return...end end;a2=m(2,function(aq,ax)u('when','function','function')return function(...)return aq(...)and ax(...)or...end end)local aB={add=v,all=w,any=x,compose=y,composeR=z,concat=A,curry=B,curryN=C,equals=E,evolve=F,flip=D,groupWith=G,gt=H,head=I,identity=J,ifElse=K,init=L,is=M,last=N,lt=O,map=P,max=Q,min=R,multiply=S,non=T,partial=U,pick=V,pipe=W,pipeR=X,prop=Y,reduce=Z,reverse=_,tail=a0,tap=a1,when=a2}aB.import=function(aC)aC=aC or _G;return i(aC,aB)end;return aB
