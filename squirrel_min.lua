local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g=table.insert,table.remove;local unpack=table.unpack or unpack;local h,i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4,a5,a6,a7;local a8=_VERSION=='Lua 5.1'local a9=type(jit)=='table'local aa=a8 and not a9 and 3 or 2;local ab={'first','second','third'}m=function(...)return...end;p=function()end;h=function(ac,ad)for ae,af in pairs(ad)do ac[ae]=af end;return ac end;i=function(ac)local ad={}for ag,af in ipairs(ac)do f(ad,af)end;return ad end;j=function(ac,ad)local ah=i(ac)for ag,af in ipairs(ad)do f(ah,af)end;return ah end;k=a8 and m or function(ai)return l(o(ai),ai)end;l=function(aj,ai)if aj<1 then return ai end;return function(...)local ak={...}if#ak<aj then return l(aj-#ak,Y(ai,ak))else return ai(...)end end end;n=function(ac)local ad={}for al,am in pairs(ac)do ad[am]=al end;return ad end;o=function(ai)return d(ai,'u').nparams end;q=function(ai,ak)return function(...)return ai(unpack(j(ak,{...})))end end;r=function(...)local an={...}local ao=g(an,1)return function(...)local am=ao(...)for ag,ai in ipairs(an)do am=ai(am)end;return am end end;s=function(...)local an={...}return l(2,function(ap,am)for ag,ai in ipairs(an)do ap=ai(ap,am)end;return ap end)end;t=function(ac)local ad={}for aq=#ac,1,-1 do f(ad,ac[aq])end;return ad end;u=l(2,not _DEBUG and p or function(ar,...)for aq,as in ipairs({...})do local at=c(as,'^%[(%a+)%]$')local au=c(as,'^%.%.%.(%a+)$')local av,am=e(aa,aq)local aw=type(am)local ax,ay;if at then ax=a('%s: %s arg must be list',ar,ab[aq])ay=ax..a(', got %s',aw)assert(aw=='table',ay)if b(at)>1 then ax=ax..a(' of %ss',at)for ag,af in ipairs(am)do aw=type(af)ay=ax..a(', got %s element',aw)assert(aw==at,ay)end end elseif au and b(au)>1 then if not a8 then ax=a('%s: vararg must be all %ss',ar,au)local az=-1;av,am=e(aa,az)while am do aw=type(am)ay=ax..a(', got a %s',aw)assert(aw==au,ay)az=az-1;av,am=e(aa,az)end end elseif b(as)>1 then ay=a('%s: %s arg must be %s, got %s',ar,ab[aq],as,aw)assert(aw==as,ay)end end end)v=l(2,function(ac,ad)u('add','number','number')return ac+ad end)w=l(2,function(aA,aB)u('all','function','[a]')for ag,af in ipairs(aB)do if not aA(af)then return false end end;return true end)x=l(2,function(aA,aB)u('any','function','[a]')for ag,af in ipairs(aB)do if aA(af)then return true end end;return false end)y=function(...)u('compose','...function')return r(unpack(t({...})))end;z=function(...)u('composeR','...function')return s(unpack(t({...})))end;A=l(2,function(ac,ad)u('concat','[a]','[a]')return j(ac,ad)end)B=function(am)return function()return am end end;C=function(ai)u('curry','function')return k(ai)end;D=l(2,function(aj,ai)u('curryN','number','function')return l(aj,ai)end)E=l(2,function(ai,aB)u('each','function','[a]')for ag,af in ipairs(aB)do ai(af)end;return aB end)F=l(2,function(ac,ad)return ac==ad end)G=l(2,function(aC,aD)u('evolve','table','table')local aE={}for al,am in pairs(aD)do local aF=aC[al]aE[al]=type(aF)=='function'and aF(am)or type(aF)=='table'and G(aF,am)or am end;return aE end)H=function(ai)u('flip','function')return l(2,function(ac,ad,...)return ai(ad,ac,...)end)end;I=l(2,function(aA,aB)u('groupWith','function','[a]')local aE={{}}for aq,af in ipairs(aB)do f(aE[#aE],af)if aq<#aB and not aA(af,aB[aq+1])then f(aE,{})end end;return aE end)J=l(2,function(ac,ad)u('gt','number','number')return ac>ad end)K=function(aB)u('head','[a]')return aB[1]end;L=m;M=l(3,function(aA,aG,aH)u('ifElse','function','function','function')return function(...)return aA(...)and aG(...)or aH(...)end end)N=function(ac)u('init','[a]')local ad=i(ac)g(ad)return ad end;O=l(2,function(aI,ac)u('is','string')return type(ac)==aI end)P=function(aB)u('last','[a]')return aB[#aB]end;Q=l(2,function(ac,ad)u('lt','number','number')return ac<ad end)R=l(2,function(ai,ac)u('map','function','[a]')local ad={}for ag,af in ipairs(ac)do f(ad,ai(af))end;return ad end)S=l(2,function(ac,ad)u('max','number','number')return ac>ad and ac or ad end)T=l(2,function(ac,ad)u('merge','table','table')local aE={}h(aE,ac)h(aE,ad)return aE end)U=l(2,function(ac,ad)u('min','number','number')return ac<ad and ac or ad end)V=l(2,function(ac,ad)u('multiply','number','number')return ac*ad end)W=function(aA)u('non','function')return function(...)return not aA(...)end end;X=l(2,function(aJ,aK)u('omit','[string]','table')local aE={}aJ=n(aJ)for al,am in pairs(aK)do if not aJ[al]then aE[al]=am end end;return aE end)Y=l(2,function(ai,ak)u('partial','function','[a]')return q(ai,ak)end)Z=l(2,function(aJ,ac)u('pick','[string]','table')local ad={}for ag,al in ipairs(aJ)do ad[al]=ac[al]end;return ad end)_=function(...)u('pipe','...function')return r(...)end;a0=function(...)u('pipeR','...function')return s(...)end;a1=l(2,function(al,aB)u('pluck','string','[table]')local aE={}for aq,aL in ipairs(aB)do aE[aq]=aL[al]end;return aE end)a2=l(2,function(al,table)u('prop','string','table')return table[al]end)a3=l(3,function(ai,ap,aB)u('reduce','function','a','[a]')for ag,am in ipairs(aB)do ap=ai(ap,am)end;return ap end)a4=function(ac)u('reverse','[a]')return t(ac)end;a5=function(ac)u('tail','[a]')local ad=i(ac)g(ad,1)return ad end;a6=function(ai)u('tap','function')return function(...)ai(...)return...end end;a7=l(2,function(aA,aG)u('when','function','function')return function(...)return aA(...)and aG(...)or...end end)local aM={add=v,all=w,any=x,compose=y,composeR=z,concat=A,constant=B,curry=C,curryN=D,each=E,equals=F,evolve=G,flip=H,groupWith=I,gt=J,head=K,identity=L,ifElse=M,init=N,is=O,last=P,lt=Q,map=R,max=S,merge=T,min=U,multiply=V,omit=X,non=W,partial=Y,pick=Z,pipe=_,pipeR=a0,pluck=a1,prop=a2,reduce=a3,reverse=a4,tail=a5,tap=a6,when=a7}aM.import=function(aN)aN=aN or _G;return h(aN,aM)end;return aM
