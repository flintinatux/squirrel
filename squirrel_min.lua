local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g=table.insert,table.remove;local unpack=table.unpack or unpack;local h,i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9;local aa=_VERSION=='Lua 5.1'local ab=type(jit)=='table'local ac=aa and not ab and 3 or 2;local ad={'first','second','third'}m=function(...)return...end;p=function()end;h=function(ae,af)for ag,ah in pairs(af)do ae[ag]=ah end;return ae end;i=function(ae)local af={}for ai,ah in ipairs(ae)do f(af,ah)end;return af end;j=function(ae,af)local aj=i(ae)for ai,ah in ipairs(af)do f(aj,ah)end;return aj end;k=aa and m or function(ak)return l(o(ak),ak)end;l=function(al,ak)if al<1 then return ak end;return function(...)local am={...}if#am<al then return l(al-#am,_(ak,am))else return ak(...)end end end;n=function(ae)local af={}for ag,ah in pairs(ae)do af[ah]=ag end;return af end;o=function(ak)return d(ak,'u').nparams end;q=function(ak,am)return function(...)return ak(unpack(j(am,{...})))end end;r=function(...)local an={...}local ao=g(an,1)return function(...)local ap=ao(...)for ai,ak in ipairs(an)do ap=ak(ap)end;return ap end end;s=function(...)local an={...}return l(2,function(aq,ap)for ai,ak in ipairs(an)do aq=ak(aq,ap)end;return aq end)end;t=function(ae)local af={}for ar=#ae,1,-1 do f(af,ae[ar])end;return af end;u=l(2,not _DEBUG and p or function(as,...)for ar,at in ipairs({...})do local au=c(at,'^%[(%a+)%]$')local av=c(at,'^%.%.%.(%a+)$')local aw,ap=e(ac,ar)local ax=type(ap)local ay,az;if au then ay=a('%s: %s arg must be list',as,ad[ar])az=ay..a(', got %s',ax)assert(ax=='table',az)if b(au)>1 then ay=ay..a(' of %ss',au)for ai,ah in ipairs(ap)do ax=type(ah)az=ay..a(', got %s element',ax)assert(ax==au,az)end end elseif av and b(av)>1 then if not aa then ay=a('%s: vararg must be all %ss',as,av)local aA=-1;aw,ap=e(ac,aA)while ap do ax=type(ap)az=ay..a(', got a %s',ax)assert(ax==av,az)aA=aA-1;aw,ap=e(ac,aA)end end elseif b(at)>1 then az=a('%s: %s arg must be %s, got %s',as,ad[ar],at,ax)assert(ax==at,az)end end end)v=l(2,function(ae,af)u('add','number','number')return ae+af end)w=l(2,function(aB,aC)u('all','function','[a]')for ai,ah in ipairs(aC)do if not aB(ah)then return false end end;return true end)x=l(2,function(aB,aC)u('any','function','[a]')for ai,ah in ipairs(aC)do if aB(ah)then return true end end;return false end)y=function(...)u('compose','...function')return r(unpack(t({...})))end;z=function(...)u('composeR','...function')return s(unpack(t({...})))end;A=l(2,function(ae,af)u('concat','[a]','[a]')return j(ae,af)end)B=l(1,function(ap)return function()return ap end end)C=l(1,function(ak)u('curry','function')return k(ak)end)D=l(2,function(al,ak)u('curryN','number','function')return l(al,ak)end)E=l(2,function(ak,aC)u('each','function','[a]')for ai,ah in ipairs(aC)do ak(ah)end;return aC end)F=l(2,function(ae,af)return ae==af end)G=l(2,function(aD,aE)u('evolve','table','table')local aF={}for aG,ap in pairs(aE)do local aH=aD[aG]aF[aG]=type(aH)=='function'and aH(ap)or type(aH)=='table'and G(aH,ap)or ap end;return aF end)H=l(1,function(ak)u('flip','function')return l(2,function(ae,af,...)return ak(af,ae,...)end)end)I=l(2,function(aB,aC)u('groupWith','function','[a]')local aF={{}}for ar,ah in ipairs(aC)do f(aF[#aF],ah)if ar<#aC and not aB(ah,aC[ar+1])then f(aF,{})end end;return aF end)J=l(2,function(ae,af)u('gt','number','number')return ae>af end)K=l(1,function(aC)u('head','[a]')return aC[1]end)L=l(1,m)M=l(3,function(aB,aI,aJ)u('ifElse','function','function','function')return function(...)return aB(...)and aI(...)or aJ(...)end end)N=l(1,function(ae)u('init','[a]')local af=i(ae)g(af)return af end)O=l(1,function(aK)u('invert','table')return n(aK)end)P=l(2,function(aL,ae)u('is','string')return type(ae)==aL end)Q=l(1,function(aC)u('last','[a]')return aC[#aC]end)R=l(2,function(ae,af)u('lt','number','number')return ae<af end)S=l(2,function(ak,ae)u('map','function','[a]')local af={}for ai,ah in ipairs(ae)do f(af,ak(ah))end;return af end)T=l(2,function(ae,af)u('max','number','number')return ae>af and ae or af end)U=l(2,function(ae,af)u('merge','table','table')local aF={}h(aF,ae)h(aF,af)return aF end)V=l(2,function(ae,af)u('min','number','number')return ae<af and ae or af end)W=l(2,function(ae,af)u('multiply','number','number')return ae*af end)X=l(1,function(aB)u('non','function')return function(...)return not aB(...)end end)Y=p;Z=l(2,function(aM,aK)u('omit','[string]','table')local aF={}aM=n(aM)for aG,ap in pairs(aK)do if not aM[aG]then aF[aG]=ap end end;return aF end)_=l(2,function(ak,am)u('partial','function','[a]')return q(ak,am)end)a0=l(2,function(aM,ae)u('pick','[string]','table')local af={}for ai,aG in ipairs(aM)do af[aG]=ae[aG]end;return af end)a1=function(...)u('pipe','...function')return r(...)end;a2=function(...)u('pipeR','...function')return s(...)end;a3=l(2,function(aG,aC)u('pluck','string','[table]')local aF={}for ar,aN in ipairs(aC)do aF[ar]=aN[aG]end;return aF end)a4=l(2,function(aG,table)u('prop','string','table')return table[aG]end)a5=l(3,function(ak,aq,aC)u('reduce','function','a','[a]')for ai,ap in ipairs(aC)do aq=ak(aq,ap)end;return aq end)a6=l(1,function(ae)u('reverse','[a]')return t(ae)end)a7=l(1,function(ae)u('tail','[a]')local af=i(ae)g(af,1)return af end)a8=l(1,function(ak)u('tap','function')return function(...)ak(...)return...end end)a9=l(2,function(aB,aI)u('when','function','function')return function(...)return aB(...)and aI(...)or...end end)local aO={add=v,all=w,any=x,compose=y,composeR=z,concat=A,constant=B,curry=C,curryN=D,each=E,equals=F,evolve=G,flip=H,groupWith=I,gt=J,head=K,identity=L,ifElse=M,init=N,invert=O,is=P,last=Q,lt=R,map=S,max=T,merge=U,min=V,multiply=W,omit=Z,non=X,noop=Y,partial=_,pick=a0,pipe=a1,pipeR=a2,pluck=a3,prop=a4,reduce=a5,reverse=a6,tail=a7,tap=a8,when=a9}aO.import=function(aP)aP=aP or _G;return h(aP,aO)end;return aO
