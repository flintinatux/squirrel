local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g,h=table.insert,table.remove,table.unpack;local i,j,k,l,m,n,o,p,q,r,s,t,u;local v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4;p={'first','second','third'}i=function(a5,a6)for a7,a8 in pairs(a6)do a5[a7]=a8 end;return a5 end;j=function(a5)local a6={}for a9,a8 in ipairs(a5)do f(a6,a8)end;return a6 end;k=function(a5,a6)local aa=j(a5)for a9,a8 in ipairs(a6)do f(aa,a8)end;return aa end;l=function(ab)return m(n(ab),ab)end;m=function(ac,ab)if ac<1 then return ab end;return function(...)local ad={...}if#ad<ac then return m(ac-#ad,V(ab,ad))else return ab(...)end end end;n=function(ab)return d(ab,'u').nparams end;o=function()end;q=function(ab,ad)return function(...)return ab(h(k(ad,{...})))end end;r=function(...)local ae={...}local af=g(ae,1)return function(...)local ag=af(...)for a9,ab in ipairs(ae)do ag=ab(ag)end;return ag end end;s=function(...)local ae={...}return m(2,function(ah,ag)for a9,ab in ipairs(ae)do ah=ab(ah,ag)end;return ah end)end;t=function(a5)local a6={}for ai=#a5,1,-1 do f(a6,a5[ai])end;return a6 end;u=m(2,not _DEBUG and o or function(aj,...)for ai,ak in ipairs({...})do local al=c(ak,'^%[(%a+)%]$')local am=c(ak,'^%.%.%.(%a+)$')local an,ag=e(2,ai)local ao=type(ag)local ap,aq;if al then ap=a('%s: %s arg must be list',aj,p[ai])aq=ap..a(', got %s',ao)assert(ao=='table',aq)if b(al)>1 then ap=ap..a(' of %ss',al)for a9,a8 in ipairs(ag)do ao=type(a8)aq=ap..a(', got %s element',ao)assert(ao==al,aq)end end elseif am and b(am)>1 then ap=a('%s: vararg must be all %ss',aj,am)local ar=-1;an,ag=e(2,ar)while ag do ao=type(ag)aq=ap..a(', got a %s',ao)assert(ao==am,aq)ar=ar-1;an,ag=e(2,ar)end elseif b(ak)>1 then aq=a('%s: %s arg must be %s, got %s',aj,p[ai],ak,ao)assert(ao==ak,aq)end end end)v=m(2,function(a5,a6)u('add','number','number')return a5+a6 end)w=m(2,function(as,at)u('all','function','[a]')for a9,a8 in ipairs(at)do if not as(a8)then return false end end;return true end)x=m(2,function(as,at)u('any','function','[a]')for a9,a8 in ipairs(at)do if as(a8)then return true end end;return false end)y=function(...)u('compose','...function')return r(h(t({...})))end;z=function(...)u('composeR','...function')return s(h(t({...})))end;A=m(2,function(a5,a6)u('concat','[a]','[a]')return k(a5,a6)end)B=function(ab)u('curry','function')return l(ab)end;C=m(2,function(ac,ab)u('curryN','number','function')return m(ac,ab)end)E=m(2,function(ab,at)u('each','function','[a]')for a9,a8 in ipairs(at)do ab(a8)end;return at end)F=m(2,function(a5,a6)return a5==a6 end)G=m(2,function(au,av)u('evolve','table','table')local aw={}for ax,ag in pairs(av)do local ay=au[ax]aw[ax]=type(ay)=='function'and ay(ag)or type(ay)=='table'and G(ay,ag)or ag end;return aw end)D=function(ab)u('flip','function')ab=l(ab)return m(2,function(a5,a6,...)return ab(a6,a5,...)end)end;H=m(2,function(as,at)u('groupWith','function','[a]')local aw={{}}for ai,a8 in ipairs(at)do f(aw[#aw],a8)if ai<#at and not as(a8,at[ai+1])then f(aw,{})end end;return aw end)I=m(2,function(a5,a6)u('gt','number','number')return a5>a6 end)J=function(at)u('head','[a]')return at[1]end;K=function(...)return...end;L=m(3,function(as,az,aA)u('ifElse','function','function','function')return function(...)return as(...)and az(...)or aA(...)end end)M=function(a5)u('init','[a]')local a6=j(a5)g(a6)return a6 end;N=m(2,function(aB,a5)u('is','string')return type(a5)==aB end)O=function(at)u('last','[a]')return at[#at]end;P=m(2,function(a5,a6)u('lt','number','number')return a5<a6 end)Q=m(2,function(ab,a5)u('map','function','[a]')local a6={}for a9,a8 in ipairs(a5)do f(a6,ab(a8))end;return a6 end)R=m(2,function(a5,a6)u('max','number','number')return a5>a6 and a5 or a6 end)S=m(2,function(a5,a6)u('min','number','number')return a5<a6 and a5 or a6 end)T=m(2,function(a5,a6)u('multiply','number','number')return a5*a6 end)U=function(as)u('non','function')return function(...)return not as(...)end end;V=m(2,function(ab,ad)u('partial','function','[a]')return q(ab,ad)end)W=m(2,function(aC,a5)u('pick','[string]','table')local a6={}for a9,ax in ipairs(aC)do a6[ax]=a5[ax]end;return a6 end)X=function(...)u('pipe','...function')return r(...)end;Y=function(...)u('pipeR','...function')return s(...)end;Z=m(2,function(ax,at)u('pluck','string','[table]')local aw={}for ai,aD in ipairs(at)do aw[ai]=aD[ax]end;return aw end)_=m(2,function(ax,table)u('prop','string','table')return table[ax]end)a0=m(3,function(ab,ah,at)u('reduce','function','a','[a]')for a9,ag in ipairs(at)do ah=ab(ah,ag)end;return ah end)a1=function(a5)u('reverse','[a]')return t(a5)end;a2=function(a5)u('tail','[a]')local a6=j(a5)g(a6,1)return a6 end;a3=function(ab)u('tap','function')return function(...)ab(...)return...end end;a4=m(2,function(as,az)u('when','function','function')return function(...)return as(...)and az(...)or...end end)local aE={add=v,all=w,any=x,compose=y,composeR=z,concat=A,curry=B,curryN=C,each=E,equals=F,evolve=G,flip=D,groupWith=H,gt=I,head=J,identity=K,ifElse=L,init=M,is=N,last=O,lt=P,map=Q,max=R,min=S,multiply=T,non=U,partial=V,pick=W,pipe=X,pipeR=Y,pluck=Z,prop=_,reduce=a0,reverse=a1,tail=a2,tap=a3,when=a4}aE.import=function(aF)aF=aF or _G;return i(aF,aE)end;return aE
