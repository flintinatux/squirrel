local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g=table.insert,table.remove;local unpack=table.unpack or unpack;local h,i,j,k,l,m,n,o,p,q,r,s,t;local u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4;local a5=_VERSION=='Lua 5.1'local a6=type(jit)=='table'local a7=a5 and not a6 and 3 or 2;local a8={'first','second','third'}m=function(...)return...end;o=function()end;h=function(a9,aa)for ab,ac in pairs(aa)do a9[ab]=ac end;return a9 end;i=function(a9)local aa={}for ad,ac in ipairs(a9)do f(aa,ac)end;return aa end;j=function(a9,aa)local ae=i(a9)for ad,ac in ipairs(aa)do f(ae,ac)end;return ae end;k=a5 and m or function(af)return l(n(af),af)end;l=function(ag,af)if ag<1 then return af end;return function(...)local ah={...}if#ah<ag then return l(ag-#ah,V(af,ah))else return af(...)end end end;n=function(af)return d(af,'u').nparams end;p=function(af,ah)return function(...)return af(unpack(j(ah,{...})))end end;q=function(...)local ai={...}local aj=g(ai,1)return function(...)local ak=aj(...)for ad,af in ipairs(ai)do ak=af(ak)end;return ak end end;r=function(...)local ai={...}return l(2,function(al,ak)for ad,af in ipairs(ai)do al=af(al,ak)end;return al end)end;s=function(a9)local aa={}for am=#a9,1,-1 do f(aa,a9[am])end;return aa end;t=l(2,not _DEBUG and o or function(an,...)for am,ao in ipairs({...})do local ap=c(ao,'^%[(%a+)%]$')local aq=c(ao,'^%.%.%.(%a+)$')local ar,ak=e(a7,am)local as=type(ak)local at,au;if ap then at=a('%s: %s arg must be list',an,a8[am])au=at..a(', got %s',as)assert(as=='table',au)if b(ap)>1 then at=at..a(' of %ss',ap)for ad,ac in ipairs(ak)do as=type(ac)au=at..a(', got %s element',as)assert(as==ap,au)end end elseif aq and b(aq)>1 then if not a5 then at=a('%s: vararg must be all %ss',an,aq)local av=-1;ar,ak=e(a7,av)while ak do as=type(ak)au=at..a(', got a %s',as)assert(as==aq,au)av=av-1;ar,ak=e(a7,av)end end elseif b(ao)>1 then au=a('%s: %s arg must be %s, got %s',an,a8[am],ao,as)assert(as==ao,au)end end end)u=l(2,function(a9,aa)t('add','number','number')return a9+aa end)v=l(2,function(aw,ax)t('all','function','[a]')for ad,ac in ipairs(ax)do if not aw(ac)then return false end end;return true end)w=l(2,function(aw,ax)t('any','function','[a]')for ad,ac in ipairs(ax)do if aw(ac)then return true end end;return false end)x=function(...)t('compose','...function')return q(unpack(s({...})))end;y=function(...)t('composeR','...function')return r(unpack(s({...})))end;z=l(2,function(a9,aa)t('concat','[a]','[a]')return j(a9,aa)end)A=function(ak)return function()return ak end end;B=function(af)t('curry','function')return k(af)end;C=l(2,function(ag,af)t('curryN','number','function')return l(ag,af)end)D=l(2,function(af,ax)t('each','function','[a]')for ad,ac in ipairs(ax)do af(ac)end;return ax end)E=l(2,function(a9,aa)return a9==aa end)F=l(2,function(ay,az)t('evolve','table','table')local aA={}for aB,ak in pairs(az)do local aC=ay[aB]aA[aB]=type(aC)=='function'and aC(ak)or type(aC)=='table'and F(aC,ak)or ak end;return aA end)G=function(af)t('flip','function')return l(2,function(a9,aa,...)return af(aa,a9,...)end)end;H=l(2,function(aw,ax)t('groupWith','function','[a]')local aA={{}}for am,ac in ipairs(ax)do f(aA[#aA],ac)if am<#ax and not aw(ac,ax[am+1])then f(aA,{})end end;return aA end)I=l(2,function(a9,aa)t('gt','number','number')return a9>aa end)J=function(ax)t('head','[a]')return ax[1]end;K=m;L=l(3,function(aw,aD,aE)t('ifElse','function','function','function')return function(...)return aw(...)and aD(...)or aE(...)end end)M=function(a9)t('init','[a]')local aa=i(a9)g(aa)return aa end;N=l(2,function(aF,a9)t('is','string')return type(a9)==aF end)O=function(ax)t('last','[a]')return ax[#ax]end;P=l(2,function(a9,aa)t('lt','number','number')return a9<aa end)Q=l(2,function(af,a9)t('map','function','[a]')local aa={}for ad,ac in ipairs(a9)do f(aa,af(ac))end;return aa end)R=l(2,function(a9,aa)t('max','number','number')return a9>aa and a9 or aa end)S=l(2,function(a9,aa)t('min','number','number')return a9<aa and a9 or aa end)T=l(2,function(a9,aa)t('multiply','number','number')return a9*aa end)U=function(aw)t('non','function')return function(...)return not aw(...)end end;V=l(2,function(af,ah)t('partial','function','[a]')return p(af,ah)end)W=l(2,function(aG,a9)t('pick','[string]','table')local aa={}for ad,aB in ipairs(aG)do aa[aB]=a9[aB]end;return aa end)X=function(...)t('pipe','...function')return q(...)end;Y=function(...)t('pipeR','...function')return r(...)end;Z=l(2,function(aB,ax)t('pluck','string','[table]')local aA={}for am,aH in ipairs(ax)do aA[am]=aH[aB]end;return aA end)_=l(2,function(aB,table)t('prop','string','table')return table[aB]end)a0=l(3,function(af,al,ax)t('reduce','function','a','[a]')for ad,ak in ipairs(ax)do al=af(al,ak)end;return al end)a1=function(a9)t('reverse','[a]')return s(a9)end;a2=function(a9)t('tail','[a]')local aa=i(a9)g(aa,1)return aa end;a3=function(af)t('tap','function')return function(...)af(...)return...end end;a4=l(2,function(aw,aD)t('when','function','function')return function(...)return aw(...)and aD(...)or...end end)local aI={add=u,all=v,any=w,compose=x,composeR=y,concat=z,constant=A,curry=B,curryN=C,each=D,equals=E,evolve=F,flip=G,groupWith=H,gt=I,head=J,identity=K,ifElse=L,init=M,is=N,last=O,lt=P,map=Q,max=R,min=S,multiply=T,non=U,partial=V,pick=W,pipe=X,pipeR=Y,pluck=Z,prop=_,reduce=a0,reverse=a1,tail=a2,tap=a3,when=a4}aI.import=function(aJ)aJ=aJ or _G;return h(aJ,aI)end;return aI
