local assert,ipairs,pairs=assert,ipairs,pairs;local a,b,c=string.format,string.len,string.match;local d,e=debug.getinfo,debug.getlocal;local f,g=table.insert,table.remove;local unpack=table.unpack or unpack;local h,i,j,k,l,m,n,o,p,q,r,s,t;local u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,a0,a1,a2,a3,a4,a5;local a6=_VERSION=='Lua 5.1'local a7=type(jit)=='table'local a8=a6 and not a7 and 3 or 2;local a9={'first','second','third'}m=function(...)return...end;o=function()end;h=function(aa,ab)for ac,ad in pairs(ab)do aa[ac]=ad end;return aa end;i=function(aa)local ab={}for ae,ad in ipairs(aa)do f(ab,ad)end;return ab end;j=function(aa,ab)local af=i(aa)for ae,ad in ipairs(ab)do f(af,ad)end;return af end;k=a6 and m or function(ag)return l(n(ag),ag)end;l=function(ah,ag)if ah<1 then return ag end;return function(...)local ai={...}if#ai<ah then return l(ah-#ai,W(ag,ai))else return ag(...)end end end;n=function(ag)return d(ag,'u').nparams end;p=function(ag,ai)return function(...)return ag(unpack(j(ai,{...})))end end;q=function(...)local aj={...}local ak=g(aj,1)return function(...)local al=ak(...)for ae,ag in ipairs(aj)do al=ag(al)end;return al end end;r=function(...)local aj={...}return l(2,function(am,al)for ae,ag in ipairs(aj)do am=ag(am,al)end;return am end)end;s=function(aa)local ab={}for an=#aa,1,-1 do f(ab,aa[an])end;return ab end;t=l(2,not _DEBUG and o or function(ao,...)for an,ap in ipairs({...})do local aq=c(ap,'^%[(%a+)%]$')local ar=c(ap,'^%.%.%.(%a+)$')local as,al=e(a8,an)local at=type(al)local au,av;if aq then au=a('%s: %s arg must be list',ao,a9[an])av=au..a(', got %s',at)assert(at=='table',av)if b(aq)>1 then au=au..a(' of %ss',aq)for ae,ad in ipairs(al)do at=type(ad)av=au..a(', got %s element',at)assert(at==aq,av)end end elseif ar and b(ar)>1 then if not a6 then au=a('%s: vararg must be all %ss',ao,ar)local aw=-1;as,al=e(a8,aw)while al do at=type(al)av=au..a(', got a %s',at)assert(at==ar,av)aw=aw-1;as,al=e(a8,aw)end end elseif b(ap)>1 then av=a('%s: %s arg must be %s, got %s',ao,a9[an],ap,at)assert(at==ap,av)end end end)u=l(2,function(aa,ab)t('add','number','number')return aa+ab end)v=l(2,function(ax,ay)t('all','function','[a]')for ae,ad in ipairs(ay)do if not ax(ad)then return false end end;return true end)w=l(2,function(ax,ay)t('any','function','[a]')for ae,ad in ipairs(ay)do if ax(ad)then return true end end;return false end)x=function(...)t('compose','...function')return q(unpack(s({...})))end;y=function(...)t('composeR','...function')return r(unpack(s({...})))end;z=l(2,function(aa,ab)t('concat','[a]','[a]')return j(aa,ab)end)A=function(al)return function()return al end end;B=function(ag)t('curry','function')return k(ag)end;C=l(2,function(ah,ag)t('curryN','number','function')return l(ah,ag)end)D=l(2,function(ag,ay)t('each','function','[a]')for ae,ad in ipairs(ay)do ag(ad)end;return ay end)E=l(2,function(aa,ab)return aa==ab end)F=l(2,function(az,aA)t('evolve','table','table')local aB={}for aC,al in pairs(aA)do local aD=az[aC]aB[aC]=type(aD)=='function'and aD(al)or type(aD)=='table'and F(aD,al)or al end;return aB end)G=function(ag)t('flip','function')return l(2,function(aa,ab,...)return ag(ab,aa,...)end)end;H=l(2,function(ax,ay)t('groupWith','function','[a]')local aB={{}}for an,ad in ipairs(ay)do f(aB[#aB],ad)if an<#ay and not ax(ad,ay[an+1])then f(aB,{})end end;return aB end)I=l(2,function(aa,ab)t('gt','number','number')return aa>ab end)J=function(ay)t('head','[a]')return ay[1]end;K=m;L=l(3,function(ax,aE,aF)t('ifElse','function','function','function')return function(...)return ax(...)and aE(...)or aF(...)end end)M=function(aa)t('init','[a]')local ab=i(aa)g(ab)return ab end;N=l(2,function(aG,aa)t('is','string')return type(aa)==aG end)O=function(ay)t('last','[a]')return ay[#ay]end;P=l(2,function(aa,ab)t('lt','number','number')return aa<ab end)Q=l(2,function(ag,aa)t('map','function','[a]')local ab={}for ae,ad in ipairs(aa)do f(ab,ag(ad))end;return ab end)R=l(2,function(aa,ab)t('max','number','number')return aa>ab and aa or ab end)S=l(2,function(aa,ab)t('merge','table','table')local aB={}h(aB,aa)h(aB,ab)return aB end)T=l(2,function(aa,ab)t('min','number','number')return aa<ab and aa or ab end)U=l(2,function(aa,ab)t('multiply','number','number')return aa*ab end)V=function(ax)t('non','function')return function(...)return not ax(...)end end;W=l(2,function(ag,ai)t('partial','function','[a]')return p(ag,ai)end)X=l(2,function(aH,aa)t('pick','[string]','table')local ab={}for ae,aC in ipairs(aH)do ab[aC]=aa[aC]end;return ab end)Y=function(...)t('pipe','...function')return q(...)end;Z=function(...)t('pipeR','...function')return r(...)end;_=l(2,function(aC,ay)t('pluck','string','[table]')local aB={}for an,aI in ipairs(ay)do aB[an]=aI[aC]end;return aB end)a0=l(2,function(aC,table)t('prop','string','table')return table[aC]end)a1=l(3,function(ag,am,ay)t('reduce','function','a','[a]')for ae,al in ipairs(ay)do am=ag(am,al)end;return am end)a2=function(aa)t('reverse','[a]')return s(aa)end;a3=function(aa)t('tail','[a]')local ab=i(aa)g(ab,1)return ab end;a4=function(ag)t('tap','function')return function(...)ag(...)return...end end;a5=l(2,function(ax,aE)t('when','function','function')return function(...)return ax(...)and aE(...)or...end end)local aJ={add=u,all=v,any=w,compose=x,composeR=y,concat=z,constant=A,curry=B,curryN=C,each=D,equals=E,evolve=F,flip=G,groupWith=H,gt=I,head=J,identity=K,ifElse=L,init=M,is=N,last=O,lt=P,map=Q,max=R,merge=S,min=T,multiply=U,non=V,partial=W,pick=X,pipe=Y,pipeR=Z,pluck=_,prop=a0,reduce=a1,reverse=a2,tail=a3,tap=a4,when=a5}aJ.import=function(aK)aK=aK or _G;return h(aK,aJ)end;return aJ
